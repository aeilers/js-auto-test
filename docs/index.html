<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Fragment.html">Fragment</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Fragment.html#elementClear">elementClear</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Fragment.html#elementClick">elementClick</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Fragment.html#elementSendKeys">elementSendKeys</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Fragment.html#elementSubmit">elementSubmit</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Fragment.html#getElement">getElement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Fragment.html#setElement">setElement</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Fragment.html#testAttribute">testAttribute</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Fragment.html#testElements">testElements</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Fragment.html#testExists">testExists</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Fragment.html#testState">testState</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Fragment.html#testText">testText</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Sequence.html">Sequence</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Sequence.html#getFragment">getFragment</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Sequence.html#getUrl">getUrl</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Sequence.html#runSequence">runSequence</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Sequence.html#setFragment">setFragment</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Sequence.html#setStep">setStep</a></span></li>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>test-automation</h1><p><a href="https://www.npmjs.com/package/test-automation"><img src="https://img.shields.io/npm/v/test-automation.svg" alt="NPM Version"></a>
<a href="https://github.com/fnalabs/test-automation/blob/master/LICENSE"><img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="License"></a>
<a href="https://circleci.com/gh/fnalabs/test-automation"><img src="https://img.shields.io/circleci/project/github/fnalabs/test-automation.svg" alt="Build Status"></a>
<a href="https://codecov.io/gh/fnalabs/test-automation"><img src="https://img.shields.io/codecov/c/github/fnalabs/test-automation/master.svg" alt="Code Coverage"></a>
<a href="https://david-dm.org/fnalabs/test-automation"><img src="https://img.shields.io/david/fnalabs/test-automation.svg" alt="Dependency Status"></a>
<a href="https://standardjs.com"><img src="https://img.shields.io/badge/code_style-standard-brightgreen.svg" alt="JavaScript Style Guide"></a></p>
<p>The purpose of <code>test-automation</code> is to provide some scaffolding on top of <a href="http://www.protractortest.org/">protractor</a> to follow a Page Object pattern for Automated browser tests. The framework contains some classes to help structure and automate your tests. This is developed in parallel with the <a href="https://github.com/fnalabs/test-automation-starter">test-automation-starter</a> kit as the framework the Docker implementation is built upon. The starter kit has more of a complete example than what is provided below. The intent of the project is to provide the necessary tools and a starting point to rapidly develop automated browser tests.</p>
<h4>Contents</h4><ul>
<li><a href="#installing">Installing</a></li>
<li><a href="#framework">Framework</a><ul>
<li><a href="#fragment">Fragment</a></li>
<li><a href="#sequence">Sequence</a></li>
<li><a href="#api">API</a></li>
</ul>
</li>
<li><a href="#example">Example</a><ul>
<li><a href="#code">Code</a></li>
<li><a href="#config">Config</a></li>
</ul>
</li>
<li><a href="#future">Future</a></li>
<li><a href="#changelog">Changelog</a></li>
</ul>
<h2>Installing</h2><p>Install using <code>npm</code>:</p>
<pre class="prettyprint source lang-sh"><code>$ npm install --save mocha protractor test-automation</code></pre><h2>Framework</h2><p>The framework consists of two main classes: <a href="https://github.com/fnalabs/test-automation/blob/master/src/Fragment.js">Fragment</a> and <a href="https://github.com/fnalabs/test-automation/blob/master/src/Sequence.js">Sequence</a>.</p>
<h3>Fragment</h3><p>A Fragment is the Page Object, a reusable group of HTML element references that can be tested. For instance, a top level navigation bar is a reusable group of HTML elements that could show up on many pages. It can be used as a shared Fragment component that can be associated with other Fragments. If you have unique content on the home page, you can make a home page Fragment that is associated with your navigation Fragment above. The purpose of a Fragment is for testing its elements and optionally performing actions against its elements.</p>
<p>Fragment provides basic testing functionality for getting/setting elements stored in a Map. It also provides some basic test methods to test any child fragments as well as check if the elements exist on the page. To perform more complex tests, extend the functionality of the class with additional test methods as needed. Don't forget to override <a href="https://github.com/fnalabs/test-automation/blob/master/src/Fragment.js#L87-L96">testElements</a> to call your new methods after calling <code>await super.testElements()</code> to run the provided test methods.</p>
<ul>
<li><strong><em>NOTE:</em></strong> Elements must be defined on a Fragment object before any tests can occur.</li>
<li><strong><em>NOTE:</em></strong> Any additional action methods/classes will need to be added per use case, <a href="https://github.com/fnalabs/test-automation/issues">requests</a> for common Actions are welcome. (<a href="http://www.protractortest.org/#/api?view=ElementFinder">element api</a>, <a href="http://www.protractortest.org/#/api?view=ElementArrayFinder">element.all api</a>)</li>
</ul>
<h3>Sequence</h3><p>A Sequence defines the steps an automated browser test specification needs to perform. It is also responsible to setting the entry point to the test sequence. It provides a Fragment cache to reference for each step in the sequence that will need to be defined.</p>
<p>I've started out with some basics and will be adding more over time (and open to <a href="https://github.com/fnalabs/test-automation/issues">feature requests</a>).</p>
<h3><a href="https://fnalabs.github.io/test-automation/">API</a></h3><p>Click on the link in the header above to go to the API page.</p>
<h2>Example</h2><p>Here is a simple example of an implementation using <code>test-automation</code>. When testing a larger site with many tests, you will want to consider some structure around your code. I've added a suggested minimal folder structure below. I have also created a <a href="https://github.com/fnalabs/test-automation-starter">starter kit</a> that contains a more advanced test than below with additional support scripts and environment/execution specifics.</p>
<h4>Code</h4><ul>
<li><p><code>./constants.js</code></p>
<pre class="prettyprint source lang-javascript"><code>// Selectors
export const IMG_SELECTOR = '#hplogo'

// Fragments
export const GOOGLE_FRAGMENT = Symbol('google fragment')</code></pre></li>
<li><p><code>./fragments/GoogleFragment.js</code></p>
<pre class="prettyprint source lang-javascript"><code>import { IMG_SELECTOR } from '../constants'
import { Fragment } from 'test-automation'

export default class GoogleFragment extends Fragment {

  constructor(fragments) {
    super(fragments)

    this.setElement(IMG_SELECTOR)
  }

}</code></pre></li>
<li><p><code>./sequences/GoogleSequence.js</code></p>
<pre class="prettyprint source lang-javascript"><code>import { GOOGLE_FRAGMENT } from '../constants'
import { Sequence } from 'test-automation'
import GoogleFragment from '../fragments/GoogleFragment'

export default class GoogleSequence extends Sequence {

  constructor() {
    super()

    this.setFragment(GOOGLE_FRAGMENT, new GoogleFragment())

    this.setStep(() => this.getUrl('/'))
    this.setStep(this.getFragment(GOOGLE_FRAGMENT).testElements)
  }

}</code></pre></li>
<li><p><code>./specs/google.spec.js</code></p>
<pre class="prettyprint source lang-javascript"><code>import GoogleSequence from '../sequences/GoogleSequence'
browser.ignoreSynchronization = true

describe('google homepage img test', () => {
  let googleSequence

  before(() => {
    googleSequence = new GoogleSequence()
  })

  it('expects img to exist on the google homepage', async () => {
    await googleSequence.runSequence()
  })

  after(() => {
    googleSequence = null
  })
})</code></pre></li>
</ul>
<h4>Config</h4><ul>
<li><code>./conf/config.js</code><pre class="prettyprint source lang-javascript"><code>exports.config = {
  directConnect: true,
  capabilities: {
    browserName: 'chrome',
    platform: 'ANY',
    version: ''
  },
  baseUrl: 'https://www.google.com',
  framework: 'mocha',
  mochaOpts: {
    reporter: 'spec',
    timeout: 5000
  },
  specs: ['../dist/**/*spec.js']
}</code></pre><ul>
<li><strong><em>NOTE:</em></strong> This configuration was used to run protractor on Ubuntu 18.04 LTS.</li>
</ul>
</li>
</ul>
<h2>Future</h2><ul>
<li>feature requests via <a href="https://github.com/fnalabs/test-automation/issues">issues</a></li>
</ul>
<h2>Changelog</h2><h4>v2.0.6</h4><ul>
<li>updated dependencies and scripts</li>
</ul>
<h4>v2.0.5</h4><ul>
<li>fixed broken links in README</li>
</ul>
<h4>v2.0.4</h4><ul>
<li>updated homepage link in <code>package.json</code></li>
</ul>
<h4>v2.0.3</h4><ul>
<li>added documentation</li>
</ul>
<h4>v2.0.2</h4><ul>
<li>updated name, license, and organization</li>
<li>updated dependencies</li>
</ul>
<h4>v2.0.1</h4><ul>
<li>updated dependencies and configurations</li>
</ul>
<h4>v2.0.0</h4><ul>
<li>added test methods on Fragment for common tests (<a href="#async-testtext-selector-text">testText</a>, <a href="#async-teststate-selector-state">testState</a>, <a href="#async-testattribute-selector-attribute-text">testAttribute</a>)</li>
<li>added action methods on Fragment for common actions (<a href="#async-elementclear-selector">elementClear</a>, <a href="#async-elementclick-selector">elementClick</a>, <a href="#async-elementsendkeys-selector-keys">elementSendKeys</a>, and <a href="#async-elementsubmit-selector">elementSubmit</a>)</li>
<li>updated Babel config to support native ES2017+ features</li>
<li>updated dependencies</li>
<li>removed Gulp</li>
</ul>
<h4>v1.0.0</h4><ul>
<li>initial release</li>
</ul></article>
    </section>






</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sun Mar 10 2019 19:55:10 GMT-0500 (Central Daylight Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>